head	1.2;
access;
symbols;
locks
	beebe:1.2; strict;
comment	@# @;


1.2
date	2002.08.06.13.43.25;	author beebe;	state Exp;
branches;
next	1.1;

1.1
date	2001.12.11.15.21.56;	author beebe;	state Exp;
branches;
next	;


desc
@Original version.
@


1.2
log
@Development snapshot.
@
text
@### -*-hoc-*-
### ====================================================================
### Check certain relations for tan() that can only be satisfied by
### that function, without requiring explicit high-precision numerical
### values.
###
### [25-Jan-2002]
### ====================================================================

__MAXULPS = 4			# allow 2 bits (2^2 ULPs) of error

### Tests with infinite arguments

__TEST__ = "isnan(tan(-Inf))"
__assert   (isnan(tan(-Inf)))

__TEST__ = "isnan(tan(Inf))"
__assert   (isnan(tan(Inf)))

### Tests with NaN arguments

__TEST__ = "isnan(tan(NaN))"
__assert   (isnan(tan(NaN)))

__TEST__ = "isnan(tan(-NaN))"
__assert   (isnan(tan(-NaN)))

### Tests at 0, PI/4, PI/2, 3*PI/4, PI

__TEST__ = "tan(0) == 0"
__match    (tan(0),   0)

__TEST__ = "tan(PI/4) == 1"
__match    (tan(PI/4),   1)

__TEST__ = "tan(PI/8) == sqrt(2) - 1"
__match    (tan(PI/8),   sqrt(2) - 1)

__TEST__ = "tan(3*PI/4) == -1"
__match    (tan(3*PI/4),   -1)

__TEST__ = "abs(tan(PI/2)) > 1.0e7"
__assert   (abs(tan(PI/2)) > 1.0e7)

__TEST__ = "tan(7*PI/8) == 1 - sqrt(2)"
__match    (tan(7*PI/8),   1 - sqrt(2))

__TEST__ = "tan(PI) == 0"
__match    (tan(PI),   0)

__TEST__ = "tan(5*PI/4) == 1"
__match    (tan(5*PI/4),   1)

__TEST__ = "abs(tan(3*PI/2)) > 1.0e7"
__assert   (abs(tan(3*PI/2)) > 1.0e7)

__TEST__ = "tan(7*PI/4) == -1"
__match    (tan(7*PI/4),   -1)


### tan-cos-sin relationship tests with exact numerical arguments

for (k = -52; k <= 8; ++k) \
{
	__TEST__ = "sin(1 + 2^k) / cos(1 + 2^k) == tan(1 + 2^k)"
	__match    (sin(1 + 2^k) / cos(1 + 2^k),   tan(1 + 2^k))
}

for (k = -52; k <= 8; ++k) \
{
	__TEST__ = "sin(1 - 2^k) / cos(1 - 2^k) == tan(1 - 2^k)"
	__match    (sin(1 - 2^k) / cos(1 - 2^k),   tan(1 - 2^k))
}
@


1.1
log
@Initial revision
@
text
@d7 1
a7 1
### [11-Dec-2001]
d42 2
a43 2
__TEST__ = "tan(PI/2) > 1.0e12"
__assert   (tan(PI/2) > 1.0e12)
d54 2
a55 2
__TEST__ = "tan(3*PI/2) > 1.0e12"
__assert   (tan(3*PI/2) > 1.0e12)
@
